import { Router } from "director/build/director"
import AppStore from "./app-main/app-store";
import SkyTCAdminRouter from "./router";

describe( 'Router ', () => {
	let appStore
	test( 'Init ', () => {
		appStore = new AppStore()
		let router = new SkyTCAdminRouter( appStore )
		let isAuthSpy = jest.spyOn( appStore.authStore, "isAuthenticated" )

		router.init()
		expect( isAuthSpy ).toHaveBeenCalled()
		isAuthSpy.mockReset();
		isAuthSpy.mockRestore();
	} )
	// test( "Handle callback", () => {
	// 	return new Promise( resolve => {
	// 		let callbackRouter = encodeURI( `/callback?id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InR5bnBLbTAtdEV1ajlLcEYyZWk0TmJuT2duUSIsImtpZCI6InR5bnBLbTAtdEV1ajlLcEYyZWk0TmJuT2duUSJ9.eyJpc3MiOiJodHRwczovL2ludGVnLWF1dGguc2t5c2xvcGUuY29tL2lkZW50aXR5IiwiYXVkIjoic2t5dGNhZG1pbiIsImV4cCI6MTQ5NDQzNjgwMSwibmJmIjoxNDk0NDMzMjAxLCJub25jZSI6ImY1ZWI0MGUwZGZkMTQ2MTlhYzAwYjVkZjY1MDU1Njk0IiwiaWF0IjoxNDk0NDMzMjAxLCJhdF9oYXNoIjoicHZQNHIwRHAzekF5dTdRNm1jbC12dyIsInNpZCI6ImI1NzhlNTMzMGQ5YzM3NmJlNGE0Y2FmYmI1YjQ5ODI5Iiwic3ViIjoiYjU0MDE0MmItNTBlMS00NjAxLTlmZjAtOGYwZDk5MzA0Zjc4IiwiYXV0aF90aW1lIjoxNDk0NDMzMDQzLCJpZHAiOiJpZHNydiIsInByZWZlcnJlZF91c2VybmFtZSI6IjEyM2RldmJyb2tlckBza3lzbG9wZS5jb20iLCJlbWFpbCI6IjEyM2RldmJyb2tlckBza3lzbG9wZS5jb20iLCJlbWFpbF92ZXJpZmllZCI6ImZhbHNlIiwicGhvbmVfbnVtYmVyIjoiMzMzLTMzMy0zMzMzIiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjoiZmFsc2UiLCJpZCI6IjE3OTA0ODgiLCJ6b25laW5mbyI6IkFtZXJpY2EvTG9zX0FuZ2VsZXMiLCJsb2dvIjoiMTc5MDQ4OF8xMzEzODkwNjI4ODAwOTgzODAucG5nIiwiZ2l2ZW5fbmFtZSI6IkRldiIsImZhbWlseV9uYW1lIjoiQnJva2VyIiwiYW1yIjpbInBhc3N3b3JkIl19.sOJ6zubp-d_DqkfYBPQZyfBIpw2eIyQKAYpy4orz9ITk5mF73VA29SKJrlunoZJOYWH7DxTYaBynV-f8aha2KiqCHTmfypaH70KHZH5j52cmkUvu8YdBwhIK-tcJqBYmFYHQsUfYCgWg7yU8CgNwfGa_5oTE9osjKODD2cxl-iMyEWNNkU_WBCI8dDMq0fAb8T4v_0ShcvEOcqFWsk-UHo87ke1upfuN3_RS7LIs6Eoc86-Sds_7Bt3LhjkNhFmXmsZUW_q5kMBGWisz8P_O2UEpKlr279lPb8Q3H7KzuAAkRW8JND1s8Xh5C5q__c-iTLSTIenjljqN5du-U-nj3fR2Jwu722ecKtvmrO9DbbbSFh47W4DMMiqQfEAr8NEh76Dn_F2f_nMeL89YkVVDnmtkG78kiE3qeIiLP1liJSKZyD-0yl66x9pdXkSRm-3x20GznHDlDQrN-7n-GWURQYYXRFK4uJ8iGuLzl5OQ4Wh5LOekcFHSzr2WFlsxOy7GL9kUNTATnfJ_53m_v8HKpuOBb-zEEnfcm7-u7ViPUxURC0v00dw_l3QXwADKkKhq8oPgF81xnUczw3IU2pNsWYp-cTMmroMRWTDBv7xsZdY7xoCPe_cSIWRBxpnyh6rRK9zLkJOlV4rKXZoSvlwoGKh2CqimETE-ArpFDXW_Q88&access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InR5bnBLbTAtdEV1ajlLcEYyZWk0TmJuT2duUSIsImtpZCI6InR5bnBLbTAtdEV1ajlLcEYyZWk0TmJuT2duUSJ9.eyJpc3MiOiJodHRwczovL2ludGVnLWF1dGguc2t5c2xvcGUuY29tL2lkZW50aXR5IiwiYXVkIjoiaHR0cHM6Ly9pbnRlZy1hdXRoLnNreXNsb3BlLmNvbS9pZGVudGl0eS9yZXNvdXJjZXMiLCJleHAiOjE0OTQ0NDA0MDEsIm5iZiI6MTQ5NDQzMzIwMSwiY2xpZW50X2lkIjoic2t5dGNhZG1pbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSIsInByb2ZpbGUiLCJvcGVuaWQiLCJza3lzbG9wZSIsInByaW1lYXBpIl0sInN1YiI6ImI1NDAxNDJiLTUwZTEtNDYwMS05ZmYwLThmMGQ5OTMwNGY3OCIsImF1dGhfdGltZSI6MTQ5NDQzMzA0MywiaWRwIjoiaWRzcnYiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiIxMjNkZXZicm9rZXJAc2t5c2xvcGUuY29tIiwiZW1haWwiOiIxMjNkZXZicm9rZXJAc2t5c2xvcGUuY29tIiwiZW1haWxfdmVyaWZpZWQiOiJmYWxzZSIsInBob25lX251bWJlciI6IjMzMy0zMzMtMzMzMyIsInBob25lX251bWJlcl92ZXJpZmllZCI6ImZhbHNlIiwiaWQiOiIxNzkwNDg4Iiwiem9uZWluZm8iOiJBbWVyaWNhL0xvc19BbmdlbGVzIiwibG9nbyI6IjE3OTA0ODhfMTMxMzg5MDYyODgwMDk4MzgwLnBuZyIsImdpdmVuX25hbWUiOiJEZXYiLCJmYW1pbHlfbmFtZSI6IkJyb2tlciIsImp0aSI6IjhiMjI4MGM4N2MxMDA4MmRiOWQ3ODQyZTJjYjJlYTNmIiwiYW1yIjpbInBhc3N3b3JkIl19.GcLWpFHok0zM4wHsmqYCcQi219tGZs_yevSbAz48MYm0CIv0dkbWJ5j-XvR_0Sjw2_IIiSQQbKx75hdVvlAMxzoT149H3HAcqYPL31GaCH5moFrroo8A_yOFH9h01U9Hkfw00L4Z7-xF_2wlVJmuJ1oXDFbbembxFlottj5fWyXI70iZBwyGKK--revCtyC5-IfoLzzk4ZCwGj0R9TyzqI-plG7pVvUyQOM89eI-1L9aZeBQy1b-4IhMPhSAp7jTszfAyJB3bKdU7rRmPJURk0V7Gu4ITf1urTiFQfkZnUM0AkRHbPUpkIb1_sQkmI0JebuAsJHU418-7m2xLW8At6K5MpIgHsfhSup5nW0iTAN5K_TfcxI8Wf-sIARFqV-MvUS3DBTxgQv2OzW-C7LgxoFDKt5NgAayiPMA4eF6HLcMeKooCVbt-txPDAsuU6mXseKOLxuLhMTRNbVDkuWGPVmRY5wfICKii_jVSEgFAvJ7GhZMEjNYiXpX_OnCPQT812fc7vNBQ7TP1stjQmT5vu3AvWldd8D0QvoqthlBKW813kxI_yUP5dPnbsXrZl0B7AJVj3XPeet-zTtoA_DybGqYXCQOUY8wAggzGfHkjGWFpiz4-l-TujTgi_EiZglTtl02bECqSohIOJHw66uGh-sir7bChIpTshGl2Tfg75c&token_type=Bearer&expires_in=7200&scope=read%20write%20profile%20openid%20skyslope%20primeapi&state=a5c0a52d4099459c91fa7c3681fe7d62&session_state=eqGvuV7e_ZjMsstkwuSRAcOFB-4KDVxSrQ1Mtx350uE.5e8f7c5d80b62c4bd2c0dc1feffc4ed3` )
	// 		document.location.hash = callbackRouter
	//
	// 		let loadFilesSpy = jest.spyOn( appStore.tcFileStore, "loadFiles" )
	// 		 expect( loadFilesSpy ).toHaveBeenCalled()
	// 		 resolve()
	//
	// 	} )
	// } )
} )